{"mappings":"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","sources":["case1001b/src/toss-object.js"],"sourcesContent":["// Copyright (c) 2021 8th Wall, Inc.\n/* globals AFRAME */\n\nAFRAME.registerComponent('shoot-tomato', {\n  init() {\n    const camera = document.getElementById('camera')\n    const splatSnd = document.querySelector('#splat').components.sound\n\n    this.el.sceneEl.addEventListener('touchstart', (event) => {\n      // Create element to be thrown, setting position, scale, and model\n      const tomato = document.createElement('a-entity')\n      tomato.setAttribute('position', camera.object3D.position)\n      tomato.setAttribute('scale', '1 1 1')\n      tomato.setAttribute('gltf-model', '#tomatoModel')\n\n      // Choose a random rotation offset for some variation\n      const randomRotation = {x: -90 + Math.random() * 30, y: Math.random() * 360, z: 0}\n      tomato.setAttribute('rotation', randomRotation)\n\n      // Set velocity, rotated with camera direction\n      const velocity = new THREE.Vector3(0, 0, -10)\n      velocity.applyQuaternion(camera.object3D.quaternion)\n      tomato.setAttribute('velocity', velocity)\n\n      // Add physics body\n      tomato.setAttribute('body', {\n        type: 'dynamic',\n        sphereRadius: 0.35,\n        shape: 'sphere',\n      })\n\n      tomato.setAttribute('shadow', {\n        receive: false,\n      })\n\n      // Add tomato to scene\n      this.el.sceneEl.appendChild(tomato)\n\n      // The splat is created at the same time as the thrown tomato so\n      // there is time to load the model before it hits the ground\n      const splatBase = document.createElement('a-entity')\n      splatBase.setAttribute('visible', 'false')\n\n      // The splat consists of a model wrapped in an empty\n      // parent so we can apply the correct scaling animation\n      const splat = document.createElement('a-entity')\n      splat.setAttribute('gltf-model', '#tomatoModel')\n      splat.setAttribute('scale', '1 1 1')\n      splatBase.appendChild(splat)\n\n      this.el.sceneEl.appendChild(splatBase)\n\n      let didCollide = false\n      tomato.addEventListener('collide', (e) => {\n        // Only want to do the splat once, and with the ground only\n        if (didCollide || e.detail.body.el.id !== 'ground') {\n          return\n        }\n        didCollide = true\n\n        // Stop previous splat sound\n        splatSnd.stopSound()\n        // Play splat sound\n        splatSnd.playSound()\n\n        // Copy positioning of thrown tomato to splat\n        splatBase.object3D.position.copy(tomato.object3D.position)\n        splat.object3D.rotation.copy(tomato.object3D.rotation)\n\n        splatBase.object3D.visible = true\n\n        tomato.setAttribute('visible', 'false')\n\n        // We can't remove the thrown tomato until the physics step is over\n        setTimeout(() => {\n          tomato.parentNode.removeChild(tomato)\n        }, 0)\n\n        // Using animation component to show flattening\n        splatBase.setAttribute('animation__scale', {\n          property: 'scale',\n          from: '1 1 1',\n          to: '3 0.1 3',\n          dur: 500,\n          easing: 'easeOutQuad',\n        })\n\n        // After 2.5 seconds, shrink the splat away and delete it\n        setTimeout(() => {\n          splatBase.setAttribute('animation__scale', {\n            property: 'scale',\n            from: '3 0.1 3',\n            to: '0.001 0.001 0.001',\n            dur: 1500,\n            easing: 'easeInQuad',\n          })\n          setTimeout(() => splatBase.parentNode.removeChild(splatBase), 1500)\n        }, 2500)\n      })\n    })\n  },\n})\n"],"names":[],"version":3,"file":"index.b85c27a6.js.map","sourceRoot":"/__parcel_source_root/"}