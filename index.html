<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Timer</title>
    <link rel="stylesheet" type="text/css" href="index.css">

    <!-- We've included a slightly modified version of A-Frame, which fixes some polish concerns -->
    <script src="//cdn.8thwall.com/web/aframe/8frame-1.3.0.min.js"></script>
    <script src="//cdn.8thwall.com/web/aframe/aframe-extras-6.1.1.min.js"></script>

    <!-- XR Extras - provides utilities like load screen, almost there, and error handling.
         See github.com/8thwall/web/tree/master/xrextras -->
    <script src="//cdn.8thwall.com/web/xrextras/xrextras.js"></script>

    <!-- Landing Pages - see https://www.8thwall.com/docs/web/#landing-pages -->
    <script src='//cdn.8thwall.com/web/landing-page/landing-page.js'></script>

    <!-- Other external scripts and meta tags can also be added. -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/aframe/0.7.0/aframe-master.js"  crossorigin="anonymous"></script>
<script src="https://unpkg.com/aframe-event-set-component@4.2.1/dist/aframe-event-set-component.min.js"></script>
<script src="timer-component.js"></script>


    <!-- 8thWall Web - Replace the app key here with your own app key -->
    <script async src="//apps.8thwall.com/xrweb?appKey=iiIDBxPJJweAE1JQ94lbeHuvlXVBDK78Ohvaiuy9dHkAj0DGUVcdMdjIywRcBfZKaiEwnP"></script>


  </head>
  <body>

    <a-scene
    xrextras-gesture-detector
    landing-page
    xrextras-loading
    xrextras-runtime-error
    renderer="colorManagement: true"
    xrweb="allowedDevices: any">
  
    <!-- We can define assets here to be loaded when A-Frame initializes -->
    <a-assets>
      <!-- Credit to Poly by Google for the model: https://poly.google.com/view/5ZMAz7_ucTn -->
      <a-asset-item id="heartChartModel" src="heart_chart.glb"></a-asset-item>
  
  
          
    </a-assets>
  
    <!-- The raycaster will emit mouse events on scene objects specified with the cantap class -->
    <a-camera
      id="camera"
      position="0 8 8"
      raycaster="objects: .cantap"
      cursor="fuse: false; rayOrigin: mouse;">
    </a-camera>
  
    <a-entity
      light="
        type: directional;
        intensity: 0.8;
        castShadow: true;
        shadowMapHeight:2048;
        shadowMapWidth:2048;
        shadowCameraTop: 10;
        target: #model;
        shadowRadius: 12"
      xrextras-attach="target: model; offset: 1 15 3;"
      shadow>
    </a-entity>
  
  
    <a-light type="ambient" intensity="0.7"></a-light>
  
    <a-entity 
      id="model" 
      gltf-model="#heartChartModel" 
      class="cantap" 
      xrextras-hold-drag 
      xrextras-two-finger-rotate 
      xrextras-pinch-scale 
      scale="20 20 20" 
      shadow="receive: false">
    </a-entity>
          <a-box id="target-box1" color="#5E82C5" position="-2 2 -1" sctimer="TimeOutTime:10; HideMe:1"></a-box>
          <a-box id="target-box1" color="#5E82C5" position="-1 3 -1" sctimer="TimeOutTime:7; HideMe:1"></a-box>
  
    <a-plane
      id="ground" 
      rotation="-90 0 0" 
      width="1000" 
      height="1000" 
      material="shader: shadow" 
      shadow>
    </a-plane>
  
         <!-- Lights. -->
        <a-light type="point" color="#94c6ff" distance="15" position="0 0 -12" intensity="0" animation="property: light.intensity; from: 0; to: 2; delay: 750; dur: 500"></a-light>
        <a-light type="point" color="#94c6ff" distance="17" position="0 0 -6" intensity="0" animation="property: light.intensity; from: 0; to: 1; delay: 500; dur: 500"></a-light>
        <a-light type="ambient" color="#4f6487" ></a-light>
  
        <!-- Sounds. -->
        <a-entity sound="autoplay: true; src: #blip1"></a-entity>
        <a-entity sound="autoplay: true; src: #blip2"></a-entity>
  
  </body>
</html>