{"mappings":"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","sources":["case1001b/src/portal-components.js"],"sourcesContent":["// Copyright (c) 2021 8th Wall, Inc.\n/* globals AFRAME */\n\n// This component hides and shows certain elements as the camera moves\nAFRAME.registerComponent('portal', {\n  schema: {\n    width: {default: 4},\n    height: {default: 6},\n    depth: {default: 1},\n  },\n  init() {\n    this.camera = document.getElementById('camera')\n    this.contents = document.getElementById('portal-contents')\n    this.walls = document.getElementById('hider-walls')\n    this.portalWall = document.getElementById('portal-wall')\n    this.isInPortalSpace = false\n    this.wasOutside = true\n  },\n  tick() {\n    const {position} = this.camera.object3D\n\n    const isOutside = position.z > this.data.depth / 2\n    const withinPortalBounds =\n      position.y < this.data.height && Math.abs(position.x) < this.data.width / 2\n\n    if (this.wasOutside !== isOutside && withinPortalBounds) {\n      this.isInPortalSpace = !isOutside\n    }\n\n    this.contents.object3D.visible = this.isInPortalSpace || isOutside\n    this.walls.object3D.visible = !this.isInPortalSpace && isOutside\n    this.portalWall.object3D.visible = this.isInPortalSpace && !isOutside\n\n    this.wasOutside = isOutside\n  },\n})\n\nAFRAME.registerComponent('bob', {\n  schema: {\n    distance: {default: 0.15},\n    duration: {default: 1000},\n  },\n  init() {\n    const {el} = this\n    const {data} = this\n    data.initialPosition = this.el.object3D.position.clone()\n    data.downPosition = data.initialPosition.clone().setY(data.initialPosition.y - data.distance)\n    data.upPosition = data.initialPosition.clone().setY(data.initialPosition.y + data.distance)\n\n    const vectorToString = v => `${v.x} ${v.y} ${v.z}`\n    data.initialPosition = vectorToString(data.initialPosition)\n    data.downPosition = vectorToString(data.downPosition)\n    data.upPosition = vectorToString(data.upPosition)\n\n    data.timeout = null\n\n    const animatePosition = position => el.setAttribute('animation__bob', {\n      property: 'position',\n      to: position,\n      dur: data.duration,\n      easing: 'easeInOutQuad',\n      loop: false,\n    })\n\n    const bobDown = () => {\n      if (data.shouldStop) {\n        animatePosition(data.initialPosition)\n        data.stopped = true\n        return\n      }\n      animatePosition(data.downPosition)\n      data.timeout = setTimeout(bobUp, data.duration)\n    }\n\n    const bobUp = () => {\n      if (data.shouldStop) {\n        animatePosition(data.initialPosition)\n        data.stopped = true\n        return\n      }\n      animatePosition(data.upPosition)\n      data.timeout = setTimeout(bobDown, data.duration)\n    }\n\n    const bobStop = () => {\n      data.shouldStop = true\n    }\n    const bobStart = () => {\n      if (data.stopped) {\n        data.shouldStop = false\n        data.stopped = false\n        bobUp()\n      }\n    }\n\n    this.el.addEventListener('bobStart', bobStart)\n    this.el.addEventListener('bobStop', bobStop)\n\n    bobUp()\n  },\n})\n"],"names":[],"version":3,"file":"index.488046cf.js.map","sourceRoot":"/__parcel_source_root/"}